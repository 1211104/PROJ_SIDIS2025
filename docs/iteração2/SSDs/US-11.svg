<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="446.5px" preserveAspectRatio="none" style="width:1007px;height:446px;background:#FFFFFF;" version="1.1" viewBox="0 0 1007 446" width="1007.5px" zoomAndPan="magnify"><title>US-04: Schedule Appointment (CQRS &amp; Async)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="7" font-weight="bold" lengthAdjust="spacing" textLength="157.1274" x="431.1528" y="15.0537">US-04: Schedule Appointment (CQRS &amp; Async)</text><rect fill="#E6F2FF" height="421.1768" style="stroke:#181818;stroke-width:0.25;" width="517.3105" x="169.8318" y="22.8105"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="100.769" x="378.1025" y="29.8247">Appointment Service (Replica A)</text><rect fill="#F9F9F9" height="421.1768" style="stroke:#181818;stroke-width:0.25;" width="103.769" x="870.3921" y="22.8105"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="100.769" x="871.8921" y="29.8247">Appointment Service (Replica B)</text><g><title>API Gateway</title><rect fill="#FFFFFF" height="261.4736" style="stroke:#181818;stroke-width:0.5;" width="5" x="131.9395" y="78.2666"/></g><g><title>AppointmentController</title><rect fill="#FFFFFF" height="208.0371" style="stroke:#181818;stroke-width:0.5;" width="5" x="207.6558" y="116.0576"/></g><g><title>AppointmentService</title><rect fill="#FFFFFF" height="176.7461" style="stroke:#181818;stroke-width:0.5;" width="5" x="303.6506" y="131.7031"/></g><g><title>ExtPhysicianRepo</title><rect fill="#FFFFFF" height="15.6455" style="stroke:#181818;stroke-width:0.5;" width="5" x="425.6296" y="183.2852"/></g><g><title>ExtPatientRepo</title><rect fill="#FFFFFF" height="15.6455" style="stroke:#181818;stroke-width:0.5;" width="5" x="490.3535" y="214.5762"/></g><g><title>AppointmentRepository</title><rect fill="#FFFFFF" height="15.6455" style="stroke:#181818;stroke-width:0.5;" width="5" x="563.0549" y="245.8672"/></g><g><title>AppointmentProducer</title><rect fill="#FFFFFF" height="15.6455" style="stroke:#181818;stroke-width:0.5;" width="5" x="645.2891" y="277.1582"/></g><g><title>DataSyncConsumer</title><rect fill="#FFFFFF" height="18.6455" style="stroke:#181818;stroke-width:0.5;" width="5" x="919.7766" y="368.5313"/></g><rect fill="none" height="47.4365" style="stroke:#000000;stroke-width:0.75;" width="266.4036" x="738.4639" y="347.2402"/><g><title>Administrator . Patient</title><rect fill="#000000" fill-opacity="0.00000" height="341.5557" width="4" x="36.4309" y="61.6211"/><line style="stroke:#181818;stroke-width:0.25;stroke-dasharray:2.5,2.5;" x1="38" x2="38" y1="61.6211" y2="403.1768"/></g><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="341.5557" width="4" x="132.4395" y="61.6211"/><line style="stroke:#181818;stroke-width:0.25;stroke-dasharray:2.5,2.5;" x1="134.0137" x2="134.0137" y1="61.6211" y2="403.1768"/></g><g><title>AppointmentController</title><rect fill="#000000" fill-opacity="0.00000" height="341.5557" width="4" x="208.1558" y="61.6211"/><line style="stroke:#181818;stroke-width:0.25;stroke-dasharray:2.5,2.5;" x1="209.8318" x2="209.8318" y1="61.6211" y2="403.1768"/></g><g><title>AppointmentService</title><rect fill="#000000" fill-opacity="0.00000" height="341.5557" width="4" x="304.1506" y="61.6211"/><line style="stroke:#181818;stroke-width:0.25;stroke-dasharray:2.5,2.5;" x1="305.8284" x2="305.8284" y1="61.6211" y2="403.1768"/></g><g><title>ExtPhysicianRepo</title><rect fill="#000000" fill-opacity="0.00000" height="341.5557" width="4" x="426.1296" y="61.6211"/><line style="stroke:#181818;stroke-width:0.25;stroke-dasharray:2.5,2.5;" x1="427.7263" x2="427.7263" y1="61.6211" y2="403.1768"/></g><g><title>ExtPatientRepo</title><rect fill="#000000" fill-opacity="0.00000" height="341.5557" width="4" x="490.8535" y="61.6211"/><line style="stroke:#181818;stroke-width:0.25;stroke-dasharray:2.5,2.5;" x1="492.533" x2="492.533" y1="61.6211" y2="403.1768"/></g><g><title>AppointmentRepository</title><rect fill="#000000" fill-opacity="0.00000" height="341.5557" width="4" x="563.5549" y="61.6211"/><line style="stroke:#181818;stroke-width:0.25;stroke-dasharray:2.5,2.5;" x1="565.1741" x2="565.1741" y1="61.6211" y2="403.1768"/></g><g><title>AppointmentProducer</title><rect fill="#000000" fill-opacity="0.00000" height="341.5557" width="4" x="645.7891" y="61.6211"/><line style="stroke:#181818;stroke-width:0.25;stroke-dasharray:2.5,2.5;" x1="647.4358" x2="647.4358" y1="61.6211" y2="403.1768"/></g><g><title>RabbitMQ Broker</title><rect fill="#000000" fill-opacity="0.00000" height="341.5557" width="4" x="773.5" y="61.6211"/><line style="stroke:#181818;stroke-width:0.25;stroke-dasharray:2.5,2.5;" x1="775.4639" x2="775.4639" y1="61.6211" y2="403.1768"/></g><g><title>DataSyncConsumer</title><rect fill="#000000" fill-opacity="0.00000" height="341.5557" width="4" x="920.2766" y="61.6211"/><line style="stroke:#181818;stroke-width:0.25;stroke-dasharray:2.5,2.5;" x1="921.9578" x2="921.9578" y1="61.6211" y2="403.1768"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="68.8618" x="2.5" y="59.8643">Administrator / Patient</text><ellipse cx="38.4309" cy="26.5605" fill="#E2E2F0" rx="4" ry="4" style="stroke:#181818;stroke-width:0.25;"/><path d="M38.4309,30.5605 L38.4309,44.0605 M31.9309,34.5605 L44.9309,34.5605 M38.4309,44.0605 L31.9309,51.5605 M38.4309,44.0605 L44.9309,51.5605" fill="none" style="stroke:#181818;stroke-width:0.25;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="68.8618" x="2.5" y="410.2305">Administrator / Patient</text><ellipse cx="38.4309" cy="416.2373" fill="#E2E2F0" rx="4" ry="4" style="stroke:#181818;stroke-width:0.25;"/><path d="M38.4309,420.2373 L38.4309,433.7373 M31.9309,424.2373 L44.9309,424.2373 M38.4309,433.7373 L31.9309,441.2373 M38.4309,433.7373 L44.9309,441.2373" fill="none" style="stroke:#181818;stroke-width:0.25;"/></g><g class="participant participant-head" data-participant="gateway"><rect fill="#E2E2F0" height="16.3105" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="47.8516" x="110.5137" y="44.8105"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="40.8516" x="114.0137" y="55.8643">API Gateway</text></g><g class="participant participant-tail" data-participant="gateway"><rect fill="#E2E2F0" height="16.3105" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="47.8516" x="110.5137" y="402.6768"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="40.8516" x="114.0137" y="413.7305">API Gateway</text></g><g class="participant participant-head" data-participant="controller"><rect fill="#E2E2F0" height="16.3105" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="76.6479" x="171.8318" y="44.8105"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="69.6479" x="175.3318" y="55.8643">AppointmentController</text></g><g class="participant participant-tail" data-participant="controller"><rect fill="#E2E2F0" height="16.3105" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="76.6479" x="171.8318" y="402.6768"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="69.6479" x="175.3318" y="413.7305">AppointmentController</text></g><g class="participant participant-head" data-participant="service"><rect fill="#E2E2F0" height="16.3105" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="69.6445" x="271.3284" y="44.8105"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="62.6445" x="274.8284" y="55.8643">AppointmentService</text></g><g class="participant participant-tail" data-participant="service"><rect fill="#E2E2F0" height="16.3105" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="69.6445" x="271.3284" y="402.6768"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="62.6445" x="274.8284" y="413.7305">AppointmentService</text></g><g class="participant participant-head" data-participant="physRepo"><rect fill="#E2E2F0" height="16.3105" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="63.8066" x="396.2263" y="44.8105"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="56.8066" x="399.7263" y="55.8643">ExtPhysicianRepo</text></g><g class="participant participant-tail" data-participant="physRepo"><rect fill="#E2E2F0" height="16.3105" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="63.8066" x="396.2263" y="402.6768"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="56.8066" x="399.7263" y="413.7305">ExtPhysicianRepo</text></g><g class="participant participant-head" data-participant="patRepo"><rect fill="#E2E2F0" height="16.3105" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="55.6411" x="465.033" y="44.8105"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="48.6411" x="468.533" y="55.8643">ExtPatientRepo</text></g><g class="participant participant-tail" data-participant="patRepo"><rect fill="#E2E2F0" height="16.3105" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="55.6411" x="465.033" y="402.6768"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="48.6411" x="468.533" y="413.7305">ExtPatientRepo</text></g><g class="participant participant-head" data-participant="appRepo"><rect fill="#E2E2F0" height="16.3105" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="79.7617" x="525.6741" y="44.8105"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="72.7617" x="529.1741" y="55.8643">AppointmentRepository</text></g><g class="participant participant-tail" data-participant="appRepo"><rect fill="#E2E2F0" height="16.3105" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="79.7617" x="525.6741" y="402.6768"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="72.7617" x="529.1741" y="413.7305">AppointmentRepository</text></g><g class="participant participant-head" data-participant="producer"><rect fill="#E2E2F0" height="16.3105" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="74.7065" x="610.4358" y="44.8105"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="67.7065" x="613.9358" y="55.8643">AppointmentProducer</text></g><g class="participant participant-tail" data-participant="producer"><rect fill="#E2E2F0" height="16.3105" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="74.7065" x="610.4358" y="402.6768"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="67.7065" x="613.9358" y="413.7305">AppointmentProducer</text></g><g class="participant participant-head" data-participant="mq"><path d="M745.9639,47.3105 L805.0361,47.3105 C807.5361,47.3105 807.5361,54.4658 807.5361,54.4658 C807.5361,54.4658 807.5361,61.6211 805.0361,61.6211 L745.9639,61.6211 C743.4639,61.6211 743.4639,54.4658 743.4639,54.4658 C743.4639,54.4658 743.4639,47.3105 745.9639,47.3105" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.25;"/><path d="M805.0361,47.3105 C802.5361,47.3105 802.5361,54.4658 802.5361,54.4658 C802.5361,61.6211 805.0361,61.6211 805.0361,61.6211" fill="none" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="54.0723" x="745.9639" y="57.3643">RabbitMQ Broker</text></g><g class="participant participant-tail" data-participant="mq"><path d="M745.9639,402.6768 L805.0361,402.6768 C807.5361,402.6768 807.5361,409.832 807.5361,409.832 C807.5361,409.832 807.5361,416.9873 805.0361,416.9873 L745.9639,416.9873 C743.4639,416.9873 743.4639,409.832 743.4639,409.832 C743.4639,409.832 743.4639,402.6768 745.9639,402.6768" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.25;"/><path d="M805.0361,402.6768 C802.5361,402.6768 802.5361,409.832 802.5361,409.832 C802.5361,416.9873 805.0361,416.9873 805.0361,416.9873" fill="none" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="54.0723" x="745.9639" y="412.7305">RabbitMQ Broker</text></g><g class="participant participant-head" data-participant="consumer"><rect fill="#E2E2F0" height="16.3105" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="69.6377" x="887.4578" y="44.8105"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="62.6377" x="890.9578" y="55.8643">DataSyncConsumer</text></g><g class="participant participant-tail" data-participant="consumer"><rect fill="#E2E2F0" height="16.3105" rx="1.25" ry="1.25" style="stroke:#181818;stroke-width:0.25;" width="69.6377" x="887.4578" y="402.6768"/><text fill="#000000" font-family="sans-serif" font-size="7" lengthAdjust="spacing" textLength="62.6377" x="890.9578" y="413.7305">DataSyncConsumer</text></g><g><title>API Gateway</title><rect fill="#FFFFFF" height="261.4736" style="stroke:#181818;stroke-width:0.5;" width="5" x="131.9395" y="78.2666"/></g><g><title>AppointmentController</title><rect fill="#FFFFFF" height="208.0371" style="stroke:#181818;stroke-width:0.5;" width="5" x="207.6558" y="116.0576"/></g><g><title>AppointmentService</title><rect fill="#FFFFFF" height="176.7461" style="stroke:#181818;stroke-width:0.5;" width="5" x="303.6506" y="131.7031"/></g><g><title>ExtPhysicianRepo</title><rect fill="#FFFFFF" height="15.6455" style="stroke:#181818;stroke-width:0.5;" width="5" x="425.6296" y="183.2852"/></g><g><title>ExtPatientRepo</title><rect fill="#FFFFFF" height="15.6455" style="stroke:#181818;stroke-width:0.5;" width="5" x="490.3535" y="214.5762"/></g><g><title>AppointmentRepository</title><rect fill="#FFFFFF" height="15.6455" style="stroke:#181818;stroke-width:0.5;" width="5" x="563.0549" y="245.8672"/></g><g><title>AppointmentProducer</title><rect fill="#FFFFFF" height="15.6455" style="stroke:#181818;stroke-width:0.5;" width="5" x="645.2891" y="277.1582"/></g><g><title>DataSyncConsumer</title><rect fill="#FFFFFF" height="18.6455" style="stroke:#181818;stroke-width:0.5;" width="5" x="919.7766" y="368.5313"/></g><g class="message" data-participant-1="User" data-participant-2="gateway"><polygon fill="#181818" points="125.9395,76.2666,130.9395,78.2666,125.9395,80.2666,127.9395,78.2666" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="38.4309" x2="128.9395" y1="78.2666" y2="78.2666"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.615" x="41.9309" y="75.6353">1</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="78.3936" x="47.5459" y="75.6353">POST /appointments (json)</text></g><g class="message" data-participant-1="gateway" data-participant-2="gateway"><line style="stroke:#181818;stroke-width:0.5;" x1="136.9395" x2="157.9395" y1="93.9121" y2="93.9121"/><line style="stroke:#181818;stroke-width:0.5;" x1="157.9395" x2="157.9395" y1="93.9121" y2="100.4121"/><line style="stroke:#181818;stroke-width:0.5;" x1="137.4395" x2="157.9395" y1="100.4121" y2="100.4121"/><polygon fill="#181818" points="142.4395,98.4121,137.4395,100.4121,142.4395,102.4121,140.4395,100.4121" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.615" x="140.4395" y="91.2808">2</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="53.1013" x="146.0544" y="91.2808">Valida Token JWT</text></g><g class="message" data-participant-1="gateway" data-participant-2="controller"><polygon fill="#181818" points="201.6558,114.0576,206.6558,116.0576,201.6558,118.0576,203.6558,116.0576" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="136.9395" x2="204.6558" y1="116.0576" y2="116.0576"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.615" x="140.4395" y="113.4263">3</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="53.1235" x="146.0544" y="113.4263">encaminha pedido</text></g><g class="message" data-participant-1="controller" data-participant-2="service"><polygon fill="#181818" points="297.6506,129.7031,302.6506,131.7031,297.6506,133.7031,299.6506,131.7031" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="212.6558" x2="300.6506" y1="131.7031" y2="131.7031"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.615" x="216.1558" y="129.0718">4</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="75.8799" x="221.7708" y="129.0718">scheduleAppointment(dto)</text></g><path d="M311,138.2031 L311,168.7031 L421.5,168.7031 L421.5,143.2031 L416.5,138.2031 L311,138.2031" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><path d="M416.5,138.2031 L416.5,143.2031 L421.5,143.2031 L416.5,138.2031" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.25;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="74.0454" x="314" y="147.7173">Valida&#231;&#227;o Local (CQRS)</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="89.9495" x="314" y="156.3628">Verifica exist&#234;ncia sem chamar</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="100.4104" x="314" y="165.0083">os outros microsservi&#231;os via HTTP</text><g class="message" data-participant-1="service" data-participant-2="physRepo"><polygon fill="#181818" points="419.6296,181.2852,424.6296,183.2852,419.6296,185.2852,421.6296,183.2852" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="308.6506" x2="422.6296" y1="183.2852" y2="183.2852"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.615" x="312.1506" y="180.6538">5</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="101.864" x="317.7656" y="180.6538">existsByNumber(physicianNumber)</text></g><g class="message" data-participant-1="physRepo" data-participant-2="service"><polygon fill="#181818" points="314.1506,196.9307,309.1506,198.9307,314.1506,200.9307,312.1506,198.9307" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,1;" x1="311.1506" x2="427.6296" y1="198.9307" y2="198.9307"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.615" x="317.1506" y="196.2993">6</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="11.2004" x="322.7656" y="196.2993">true</text></g><g class="message" data-participant-1="service" data-participant-2="patRepo"><polygon fill="#181818" points="484.3535,212.5762,489.3535,214.5762,484.3535,216.5762,486.3535,214.5762" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="308.6506" x2="487.3535" y1="214.5762" y2="214.5762"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.615" x="312.1506" y="211.9448">7</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="94.2817" x="317.7656" y="211.9448">existsByNumber(patientNumber)</text></g><g class="message" data-participant-1="patRepo" data-participant-2="service"><polygon fill="#181818" points="314.1506,228.2217,309.1506,230.2217,314.1506,232.2217,312.1506,230.2217" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,1;" x1="311.1506" x2="492.3535" y1="230.2217" y2="230.2217"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.615" x="317.1506" y="227.5903">8</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="11.2004" x="322.7656" y="227.5903">true</text></g><g class="message" data-participant-1="service" data-participant-2="appRepo"><polygon fill="#181818" points="557.0549,243.8672,562.0549,245.8672,557.0549,247.8672,559.0549,245.8672" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="308.6506" x2="560.0549" y1="245.8672" y2="245.8672"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="3.615" x="312.1506" y="243.2358">9</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="53.8345" x="317.7656" y="243.2358">save(appointment)</text></g><g class="message" data-participant-1="appRepo" data-participant-2="service"><polygon fill="#181818" points="314.1506,259.5127,309.1506,261.5127,314.1506,263.5127,312.1506,261.5127" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,1;" x1="311.1506" x2="565.0549" y1="261.5127" y2="261.5127"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="317.1506" y="258.8813">10</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="59.2554" x="326.3806" y="258.8813">appointment (saved)</text></g><g class="message" data-participant-1="service" data-participant-2="producer"><polygon fill="#181818" points="639.2891,275.1582,644.2891,277.1582,639.2891,279.1582,641.2891,277.1582" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="308.6506" x2="642.2891" y1="277.1582" y2="277.1582"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="312.1506" y="274.5269">11</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="90.3303" x="321.3806" y="274.5269">notifyAppointmentCreated(app)</text></g><g class="message" data-participant-1="producer" data-participant-2="mq"><polygon fill="#181818" points="769.5,290.8037,774.5,292.8037,769.5,294.8037,771.5,292.8037" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="647.7891" x2="772.5" y1="292.8037" y2="292.8037"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="651.2891" y="290.1724">12</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="103.981" x="660.519" y="290.1724">Publish "AppointmentCreatedEvent"</text></g><g class="message" data-participant-1="service" data-participant-2="controller"><polygon fill="#181818" points="218.1558,306.4492,213.1558,308.4492,218.1558,310.4492,216.1558,308.4492" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,1;" x1="215.1558" x2="305.6506" y1="308.4492" y2="308.4492"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="221.1558" y="305.8179">13</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="50.2163" x="230.3857" y="305.8179">AppointmentDTO</text></g><g class="message" data-participant-1="controller" data-participant-2="gateway"><polygon fill="#181818" points="142.4395,322.0947,137.4395,324.0947,142.4395,326.0947,140.4395,324.0947" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,1;" x1="139.4395" x2="209.6558" y1="324.0947" y2="324.0947"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="145.4395" y="321.4634">14</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="35.7754" x="154.6694" y="321.4634">201 Created</text></g><g class="message" data-participant-1="gateway" data-participant-2="User"><polygon fill="#181818" points="43.9309,337.7402,38.9309,339.7402,43.9309,341.7402,41.9309,339.7402" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,1;" x1="40.9309" x2="133.9395" y1="339.7402" y2="339.7402"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="46.9309" y="337.1089">15</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="35.7754" x="56.1609" y="337.1089">201 Created</text></g><path d="M738.4639,347.2402 L842.2393,347.2402 L842.2393,351.8857 L837.2393,356.8857 L738.4639,356.8857 L738.4639,347.2402" fill="#EEEEEE" style="stroke:#000000;stroke-width:0.75;"/><rect fill="none" height="47.4365" style="stroke:#000000;stroke-width:0.75;" width="266.4036" x="738.4639" y="347.2402"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="81.2754" x="745.9639" y="354.7544">Sincroniza&#231;&#227;o Ass&#237;ncrona</text><g class="message" data-participant-1="mq" data-participant-2="consumer"><polygon fill="#181818" points="913.7766,366.5313,918.7766,368.5313,913.7766,370.5313,915.7766,368.5313" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="775.5" x2="916.7766" y1="368.5313" y2="368.5313"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="779" y="365.8999">16</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="110.481" x="788.23" y="365.8999">Consome "AppointmentCreatedEvent"</text></g><g class="message" data-participant-1="consumer" data-participant-2="consumer"><line style="stroke:#181818;stroke-width:0.5;" x1="924.7766" x2="945.7766" y1="386.6768" y2="386.6768"/><line style="stroke:#181818;stroke-width:0.5;" x1="945.7766" x2="945.7766" y1="386.6768" y2="393.1768"/><line style="stroke:#181818;stroke-width:0.5;" x1="922.2766" x2="945.7766" y1="393.1768" y2="393.1768"/><polygon fill="#181818" points="927.2766,391.1768,922.2766,393.1768,927.2766,395.1768,925.2766,393.1768" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="6.5" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="928.2766" y="384.0454">17</text><text fill="#000000" font-family="sans-serif" font-size="6.5" lengthAdjust="spacing" textLength="56.3608" x="937.5066" y="384.0454">Grava na R&#233;plica B</text></g><!--SRC=[bLNTRjCm5BxFKnmL2TgAQWCX97Q1bAtj0C7QzMTSkudNUclir7RAokjmCO74K_J5EBRpuwmPW_IYEV7vFz_vh9bUKvXFUyTlJc0QhMYSeHocgM1S9vHhQ9zTJgRm74Arur4d24Yc1S-I1PNu7caXeHN62UDCQKcCU0HZeXcQje0ec2jKJ8dKB68fGN-jSFmHpecctyZEQYpTUn0in1sUUg6dL6vPHA4zeUcQHGJ2JWkU3TuENm-70U1JzrjPdWckfLYlgRGHebBygrKUpfeezsxrNq2uoHXGfVS_X3dKP47N-1zJ64jnG_Vtvg0TGaAMZ40imFIiSnXiSAV7gvr2cN2iITXGANunGhEwQsMbJ7IphbU7KL0CH-7wIzBqIHCi8ywYl5rfBWIKnu132O9DHZCAhGbPB9Z-SWcdKjpcoidcNmPtQWOtV6T-XtdqYIPJ11TEJML9DJChL4aO947lVO4NE87nQ3g38r85Lj2-KO9t333P5lLAS1L6DVihicOnWHaMm-7JrrdWgrMWGKtA8u8ONn58QSnYKGNmi6KhyypGIGuZzA3otVBQr8wrS20flHMmiryTzdgz7epWV19Uz0SmcymlvmFeZop2p5cfoGNQIxPSQH3NDVmMJxVh2dPm_ImYidRRtUbsQufNLB9hCpPwXrkz_yKHh-WnWMX54Y9hkaA1oB1YH0AByCy6tj-Zl4MZ3xFPk5GtapHPLjKLxS5E5LjWccsYgjFTXMMPTbfiZ9CxfNNPjTe6MNWLpdgr6MYPLHs9wQ5zOs9kunhoSglvU5RUgZhCw__9ARVsa32be3Ca5t7x4fQIR4bJklcs6yIHBMrxoz6GeayDzY0thgT8_Dl0U8qxJHaNphoCnzd2hZ_Tegrex6xEDHW6eS6kTpwBIuf-OrD3KtiBblBHMBf3ryd6K8J9GAtgjuFpEp19jHfxNxWEQja-90NFPNys2XuuALVPPuGQ_Rm-VWLvBe5dw35AIKTeP-dlKQFo4dM4CMKSbv6px_cou-wUakXsAKM6IsXemxoc1tgXKllVzfC35_RGLMsv6CCRZXO9VQAVVYsEnNDgT6xgBiyDb84JcEn_vhV5mrxwbq7m1m00]--></g></svg>