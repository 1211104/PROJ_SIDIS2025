<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="965px" preserveAspectRatio="none" style="width:2014px;height:965px;background:#FFFFFF;" version="1.1" viewBox="0 0 2014 965" width="2014px" zoomAndPan="magnify"><title>US-05: Update Appointment (CQRS &amp; Async)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="299.4619" x="868.8774" y="30.1074">US-05: Update Appointment (CQRS &amp; Async)</text><rect fill="#E6F2FF" height="914.2266" style="stroke:#181818;stroke-width:0.5;" width="900.3721" x="428.7651" y="45.6211"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="201.5381" x="778.1821" y="59.6494">Appointment Service (Replica A)</text><rect fill="#F9F9F9" height="914.2266" style="stroke:#181818;stroke-width:0.5;" width="207.5381" x="1728.2866" y="45.6211"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="201.5381" x="1731.2866" y="59.6494">Appointment Service (Replica B)</text><g><title>API Gateway</title><rect fill="#FFFFFF" height="594.8203" style="stroke:#181818;stroke-width:1;" width="10" x="331.0879" y="156.5332"/></g><g><title>AppController</title><rect fill="#FFFFFF" height="460.3652" style="stroke:#181818;stroke-width:1;" width="10" x="477.5649" y="259.6973"/></g><g><title>AppService</title><rect fill="#FFFFFF" height="397.7832" style="stroke:#181818;stroke-width:1;" width="10" x="674.6201" y="290.9883"/></g><g><title>AppRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1161.5068" y="322.2793"/></g><g><title>AppRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1161.5068" y="563.6074"/></g><g><title>AppProducer</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1272.2788" y="626.1895"/></g><g><title>DataSyncConsumer</title><rect fill="#FFFFFF" height="37.291" style="stroke:#181818;stroke-width:1;" width="10" x="1827.0557" y="808.9355"/></g><rect fill="none" height="94.873" style="stroke:#000000;stroke-width:1.5;" width="546.5562" x="1461.5293" y="766.3535"/><g><title>Administrator . Patient</title><rect fill="#000000" fill-opacity="0.00000" height="754.9844" width="8" x="72.8618" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="76" x2="76" y1="123.2422" y2="878.2266"/></g><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="754.9844" width="8" x="332.0879" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="335.2363" x2="335.2363" y1="123.2422" y2="878.2266"/></g><g><title>AppController</title><rect fill="#000000" fill-opacity="0.00000" height="754.9844" width="8" x="478.5649" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="481.7651" x2="481.7651" y1="123.2422" y2="878.2266"/></g><g><title>AppService</title><rect fill="#000000" fill-opacity="0.00000" height="754.9844" width="8" x="675.6201" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="678.8237" x2="678.8237" y1="123.2422" y2="878.2266"/></g><g><title>ExtPhysicianRepo</title><rect fill="#000000" fill-opacity="0.00000" height="754.9844" width="8" x="914.5044" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="917.6978" x2="917.6978" y1="123.2422" y2="878.2266"/></g><g><title>ExtPatientRepo</title><rect fill="#000000" fill-opacity="0.00000" height="754.9844" width="8" x="1043.9521" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1047.311" x2="1047.311" y1="123.2422" y2="878.2266"/></g><g><title>AppRepository</title><rect fill="#000000" fill-opacity="0.00000" height="754.9844" width="8" x="1162.5068" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1165.5933" x2="1165.5933" y1="123.2422" y2="878.2266"/></g><g><title>AppProducer</title><rect fill="#000000" fill-opacity="0.00000" height="754.9844" width="8" x="1273.2788" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1276.4204" x2="1276.4204" y1="123.2422" y2="878.2266"/></g><g><title>RabbitMQ Broker</title><rect fill="#000000" fill-opacity="0.00000" height="754.9844" width="8" x="1531.6016" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1535.5293" x2="1535.5293" y1="123.2422" y2="878.2266"/></g><g><title>DataSyncConsumer</title><rect fill="#000000" fill-opacity="0.00000" height="754.9844" width="8" x="1828.0557" y="123.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1831.418" x2="1831.418" y1="123.2422" y2="878.2266"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.7236" x="5" y="119.7285">Administrator / Patient</text><ellipse cx="76.8618" cy="53.1211" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M76.8618,61.1211 L76.8618,88.1211 M63.8618,69.1211 L89.8618,69.1211 M76.8618,88.1211 L63.8618,103.1211 M76.8618,88.1211 L89.8618,103.1211" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.7236" x="5" y="892.334">Administrator / Patient</text><ellipse cx="76.8618" cy="904.3477" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M76.8618,912.3477 L76.8618,939.3477 M63.8618,920.3477 L89.8618,920.3477 M76.8618,939.3477 L63.8618,954.3477 M76.8618,939.3477 L89.8618,954.3477" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="gateway"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="288.2363" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="295.2363" y="111.7285">API Gateway</text></g><g class="participant participant-tail" data-participant="gateway"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="288.2363" y="877.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="295.2363" y="899.334">API Gateway</text></g><g class="participant participant-head" data-participant="controller"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.5996" x="432.7651" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.5996" x="439.7651" y="111.7285">AppController</text></g><g class="participant participant-tail" data-participant="controller"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.5996" x="432.7651" y="877.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.5996" x="439.7651" y="899.334">AppController</text></g><g class="participant participant-head" data-participant="service"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85.5928" x="636.8237" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.5928" x="643.8237" y="111.7285">AppService</text></g><g class="participant participant-tail" data-participant="service"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85.5928" x="636.8237" y="877.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.5928" x="643.8237" y="899.334">AppService</text></g><g class="participant participant-head" data-participant="physRepo"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127.6133" x="854.6978" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.6133" x="861.6978" y="111.7285">ExtPhysicianRepo</text></g><g class="participant participant-tail" data-participant="physRepo"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127.6133" x="854.6978" y="877.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.6133" x="861.6978" y="899.334">ExtPhysicianRepo</text></g><g class="participant participant-head" data-participant="patRepo"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111.2822" x="992.311" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.2822" x="999.311" y="111.7285">ExtPatientRepo</text></g><g class="participant participant-tail" data-participant="patRepo"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111.2822" x="992.311" y="877.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.2822" x="999.311" y="899.334">ExtPatientRepo</text></g><g class="participant participant-head" data-participant="appRepo"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105.8271" x="1113.5933" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.8271" x="1120.5933" y="111.7285">AppRepository</text></g><g class="participant participant-tail" data-participant="appRepo"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105.8271" x="1113.5933" y="877.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.8271" x="1120.5933" y="899.334">AppRepository</text></g><g class="participant participant-head" data-participant="producer"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7168" x="1229.4204" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7168" x="1236.4204" y="111.7285">AppProducer</text></g><g class="participant participant-tail" data-participant="producer"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7168" x="1229.4204" y="877.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7168" x="1236.4204" y="899.334">AppProducer</text></g><g class="participant participant-head" data-participant="mq"><path d="M1476.5293,94.6211 L1594.6738,94.6211 C1599.6738,94.6211 1599.6738,108.9316 1599.6738,108.9316 C1599.6738,108.9316 1599.6738,123.2422 1594.6738,123.2422 L1476.5293,123.2422 C1471.5293,123.2422 1471.5293,108.9316 1471.5293,108.9316 C1471.5293,108.9316 1471.5293,94.6211 1476.5293,94.6211" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1594.6738,94.6211 C1589.6738,94.6211 1589.6738,108.9316 1589.6738,108.9316 C1589.6738,123.2422 1594.6738,123.2422 1594.6738,123.2422" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.1445" x="1476.5293" y="114.7285">RabbitMQ Broker</text></g><g class="participant participant-tail" data-participant="mq"><path d="M1476.5293,877.2266 L1594.6738,877.2266 C1599.6738,877.2266 1599.6738,891.5371 1599.6738,891.5371 C1599.6738,891.5371 1599.6738,905.8477 1594.6738,905.8477 L1476.5293,905.8477 C1471.5293,905.8477 1471.5293,891.5371 1471.5293,891.5371 C1471.5293,891.5371 1471.5293,877.2266 1476.5293,877.2266" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1594.6738,877.2266 C1589.6738,877.2266 1589.6738,891.5371 1589.6738,891.5371 C1589.6738,905.8477 1594.6738,905.8477 1594.6738,905.8477" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.1445" x="1476.5293" y="897.334">RabbitMQ Broker</text></g><g class="participant participant-head" data-participant="consumer"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139.2754" x="1762.418" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.2754" x="1769.418" y="111.7285">DataSyncConsumer</text></g><g class="participant participant-tail" data-participant="consumer"><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139.2754" x="1762.418" y="877.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.2754" x="1769.418" y="899.334">DataSyncConsumer</text></g><g><title>API Gateway</title><rect fill="#FFFFFF" height="594.8203" style="stroke:#181818;stroke-width:1;" width="10" x="331.0879" y="156.5332"/></g><g><title>AppController</title><rect fill="#FFFFFF" height="460.3652" style="stroke:#181818;stroke-width:1;" width="10" x="477.5649" y="259.6973"/></g><g><title>AppService</title><rect fill="#FFFFFF" height="397.7832" style="stroke:#181818;stroke-width:1;" width="10" x="674.6201" y="290.9883"/></g><g><title>AppRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1161.5068" y="322.2793"/></g><g><title>AppRepository</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1161.5068" y="563.6074"/></g><g><title>AppProducer</title><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1;" width="10" x="1272.2788" y="626.1895"/></g><g><title>DataSyncConsumer</title><rect fill="#FFFFFF" height="37.291" style="stroke:#181818;stroke-width:1;" width="10" x="1827.0557" y="808.9355"/></g><g class="message" data-participant-1="User" data-participant-2="gateway"><polygon fill="#181818" points="319.0879,152.5332,329.0879,156.5332,319.0879,160.5332,323.0879,156.5332" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="76.8618" x2="325.0879" y1="156.5332" y2="156.5332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="83.8618" y="151.2705">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223.9961" x="95.0918" y="151.2705">PUT /appointments/{id} (Dados Novos)</text></g><path d="M346,169.5332 L346,230.5332 L525,230.5332 L525,179.5332 L515,169.5332 L346,169.5332" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M515,169.5332 L515,179.5332 L525,179.5332 L515,169.5332" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="93.9326" x="352" y="188.5615">Security Check</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.2407" x="352" y="205.8525">Valida Token e Permiss&#245;es</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.9854" x="352" y="223.1436">(Centralized Security)</text><g class="message" data-participant-1="gateway" data-participant-2="controller"><polygon fill="#181818" points="465.5649,255.6973,475.5649,259.6973,465.5649,263.6973,469.5649,259.6973" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="341.0879" x2="471.5649" y1="259.6973" y2="259.6973"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="348.0879" y="254.4346">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.2471" x="359.3179" y="254.4346">encaminha pedido</text></g><g class="message" data-participant-1="controller" data-participant-2="service"><polygon fill="#181818" points="662.6201,286.9883,672.6201,290.9883,662.6201,294.9883,666.6201,290.9883" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="487.5649" x2="668.6201" y1="290.9883" y2="290.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="494.5649" y="285.7256">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.8252" x="505.7949" y="285.7256">updateAppointment(id, dto)</text></g><g class="message" data-participant-1="service" data-participant-2="appRepo"><polygon fill="#181818" points="1149.5068,318.2793,1159.5068,322.2793,1149.5068,326.2793,1153.5068,322.2793" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="684.6201" x2="1155.5068" y1="322.2793" y2="322.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="691.6201" y="317.0166">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.749" x="702.8501" y="317.0166">findById(id)</text></g><g class="message" data-participant-1="appRepo" data-participant-2="service"><polygon fill="#181818" points="695.6201,349.5703,685.6201,353.5703,695.6201,357.5703,691.6201,353.5703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="689.6201" x2="1165.5068" y1="353.5703" y2="353.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="701.6201" y="348.3076">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.4854" x="712.8501" y="348.3076">appOriginal</text></g><path d="M689,366.5703 L689,427.5703 L933,427.5703 L933,376.5703 L923,366.5703 L689,366.5703" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M923,366.5703 L923,376.5703 L933,376.5703 L923,366.5703" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101.8672" x="695" y="385.5986">Valida&#231;&#227;o CQRS</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223.3105" x="695" y="402.8896">Se o update mudar o m&#233;dico/paciente,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.3379" x="695" y="420.1807">valida exist&#234;ncia nas tabelas locais</text><g class="message" data-participant-1="service" data-participant-2="physRepo"><polygon fill="#181818" points="906.5044,452.7344,916.5044,456.7344,906.5044,460.7344,910.5044,456.7344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="684.6201" x2="912.5044" y1="456.7344" y2="456.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="691.6201" y="451.4717">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.6226" x="702.8501" y="451.4717">existsByNumber(newPhysicianId)</text></g><g class="message" data-participant-1="physRepo" data-participant-2="service"><polygon fill="#181818" points="695.6201,484.0254,685.6201,488.0254,695.6201,492.0254,691.6201,488.0254" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="689.6201" x2="917.5044" y1="488.0254" y2="488.0254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="701.6201" y="482.7627">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22.4009" x="712.8501" y="482.7627">true</text></g><g class="message" data-participant-1="service" data-participant-2="service"><line style="stroke:#181818;stroke-width:1;" x1="684.6201" x2="726.6201" y1="519.3164" y2="519.3164"/><line style="stroke:#181818;stroke-width:1;" x1="726.6201" x2="726.6201" y1="519.3164" y2="532.3164"/><line style="stroke:#181818;stroke-width:1;" x1="685.6201" x2="726.6201" y1="532.3164" y2="532.3164"/><polygon fill="#181818" points="695.6201,528.3164,685.6201,532.3164,695.6201,536.3164,691.6201,532.3164" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="691.6201" y="514.0537">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.6543" x="702.8501" y="514.0537">atualizaCampos(appOriginal, dto)</text></g><g class="message" data-participant-1="service" data-participant-2="appRepo"><polygon fill="#181818" points="1149.5068,559.6074,1159.5068,563.6074,1149.5068,567.6074,1153.5068,563.6074" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="684.6201" x2="1155.5068" y1="563.6074" y2="563.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7.23" x="691.6201" y="558.3447">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.5171" x="702.8501" y="558.3447">save(appAtualizada)</text></g><g class="message" data-participant-1="appRepo" data-participant-2="service"><polygon fill="#181818" points="695.6201,590.8984,685.6201,594.8984,695.6201,598.8984,691.6201,594.8984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="689.6201" x2="1165.5068" y1="594.8984" y2="594.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="701.6201" y="589.6357">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.5107" x="720.0801" y="589.6357">appGuardada</text></g><g class="message" data-participant-1="service" data-participant-2="producer"><polygon fill="#181818" points="1260.2788,622.1895,1270.2788,626.1895,1260.2788,630.1895,1264.2788,626.1895" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="684.6201" x2="1266.2788" y1="626.1895" y2="626.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="691.6201" y="620.9268">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241.3823" x="710.0801" y="620.9268">notifyAppointmentUpdated(appGuardada)</text></g><g class="message" data-participant-1="producer" data-participant-2="mq"><polygon fill="#181818" points="1523.6016,653.4805,1533.6016,657.4805,1523.6016,661.4805,1527.6016,657.4805" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1277.2788" x2="1529.6016" y1="657.4805" y2="657.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1284.2788" y="652.2178">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.8628" x="1302.7388" y="652.2178">Publish "AppointmentUpdatedEvent"</text></g><g class="message" data-participant-1="service" data-participant-2="controller"><polygon fill="#181818" points="498.5649,684.7715,488.5649,688.7715,498.5649,692.7715,494.5649,688.7715" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="492.5649" x2="678.6201" y1="688.7715" y2="688.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="504.5649" y="683.5088">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.4326" x="523.0249" y="683.5088">AppointmentDTO</text></g><g class="message" data-participant-1="controller" data-participant-2="gateway"><polygon fill="#181818" points="352.0879,716.0625,342.0879,720.0625,352.0879,724.0625,348.0879,720.0625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="346.0879" x2="481.5649" y1="720.0625" y2="720.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="358.0879" y="714.7998">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.0845" x="376.5479" y="714.7998">200 OK</text></g><g class="message" data-participant-1="gateway" data-participant-2="User"><polygon fill="#181818" points="87.8618,747.3535,77.8618,751.3535,87.8618,755.3535,83.8618,751.3535" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="81.8618" x2="335.0879" y1="751.3535" y2="751.3535"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="93.8618" y="746.0908">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.0845" x="112.3218" y="746.0908">200 OK</text></g><path d="M1461.5293,766.3535 L1669.0801,766.3535 L1669.0801,775.6445 L1659.0801,785.6445 L1461.5293,785.6445 L1461.5293,766.3535" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="94.873" style="stroke:#000000;stroke-width:1.5;" width="546.5562" x="1461.5293" y="766.3535"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="162.5508" x="1476.5293" y="781.3818">Sincroniza&#231;&#227;o Ass&#237;ncrona</text><g class="message" data-participant-1="mq" data-participant-2="consumer"><polygon fill="#181818" points="1815.0557,804.9355,1825.0557,808.9355,1815.0557,812.9355,1819.0557,808.9355" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1535.6016" x2="1821.0557" y1="808.9355" y2="808.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1542.6016" y="803.6729">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223.8628" x="1561.0615" y="803.6729">Consome "AppointmentUpdatedEvent"</text></g><g class="message" data-participant-1="consumer" data-participant-2="consumer"><line style="stroke:#181818;stroke-width:1;" x1="1837.0557" x2="1879.0557" y1="845.2266" y2="845.2266"/><line style="stroke:#181818;stroke-width:1;" x1="1879.0557" x2="1879.0557" y1="845.2266" y2="858.2266"/><line style="stroke:#181818;stroke-width:1;" x1="1832.0557" x2="1879.0557" y1="858.2266" y2="858.2266"/><polygon fill="#181818" points="1842.0557,854.2266,1832.0557,858.2266,1842.0557,862.2266,1838.0557,858.2266" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14.46" x="1844.0557" y="839.9639">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.5698" x="1862.5156" y="839.9639">Atualiza na R&#233;plica B</text></g><!--SRC=[fLNRRkCs47tNLmnSeB63TPAc5w3xKC1suY3OTkEDaxwFHSOc8f4AINdZ5lir-r1iWJuL_GB_M8UKH56Ei5sWCc3mClSvSsY5pJZSByTdtx-6-uAXvJ0f2YMapRcqC9ozkrt2rp0nEvcEaWHBgsIPhxYcTMgLXi64vK8AOpMwxIaiq0fI7G0Qk3SaMA2s8XK5aht1P74DL-JbFUwynBfQ9ybAFTDjv7h9zLQa78QtlCX4YZ0P3U2hon_cv_Dv0lHrxHR5J4chLPPnxIsdOTihNPltegPQUxaZkCCLp-ZKfqvg25lC14DDSf2NjCYL0KRh_IScKdLQOEeovY_zN3xRnMPdQ8-Iqb3UMq4dRjClNbMl5KRRBqifk0iZgEfLAR4wwHLTQCNAjAvCKMyIBXbGtPFagUGbXy4jhbR2_l8EfbezriBvqvVqPkfwC__H_Lxwlq2BIy8FDSYKUTiUlsc3S621yKyD9E0rBExlu1HRl-RqTy4-mF026NNWhTegCt8m55k7smPAph__aufEjLXlBAY7phNxZe-NF2sri3kORNZwU7mShdxr_OOxAe843WkkSs7C_XzkWiXmHl5ealkDCsWCZVorIyYvJf8c4qggHIFbnMMAD3GRX88pmLIRGmHQRojI8oCrJib2wKSrQibGi5V0hAf22FOQP8UuZ-2R4vYMXdg6LGyoYw2eIa9Y5iGQJ-IqXXKvVH2IJNVNZ7oDWcHm5SFFNzHwuqxWT7fpw8pn5qQYUCzFuEVztsk7CfgvYIrTqN7_n_wZejvKhQfsRc23OhVvyOIt03XKZY3WlYK7LLUwcdlQ7ixyguv6HHJ0duaFztzA6dkGX7LRCqgcKXGjXW9GceE-yZTiuM3Zp9hfxgqduA7axmEvN4ST2HhTobjTVjvJrAIwo3FCYM66KSzgZ4Nj-VO4hZHkyVFGCRZbpaxJFeR_1q5N9Mf6DhuGGT-TmA9SUPwwt5BJ50pdGlCnIZQUAxtcTjHR-PecoITrIJpied6hdaesZ8BfIIWGROoHO9PSv4-EvLniPjDXsDg-3tVGbsOmdNIYFcIQoEJ5tKroO2ImGqmp7GO-Fpk3cpT9f1CnLA0tKl7atISV7lWZaXl3KiXKAzbES0vJJ1_NMfKq3IIHk6NnGcv2_FkNFwgwJfMhSlMF27bsZulA-NzKCKwZUdvgbgtCT4qsOAKPXjlzf_gbEonY_90b_m80]--></g></svg>